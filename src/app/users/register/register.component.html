<app-header></app-header>

<div class="register">
    <div class="container d-flex justify-content-center align-items-center">
       <div class="form">
        <h2>إنشاء حساب</h2>
        <!-- {{registerError}} -->
        <form [formGroup]="registerForm">
          <div class="form-group">
            <!-- <label>User Name</label> -->
            <input [ngClass] = "{whiteInput:userName.value.length > 0}"
              formControlName="userName"
              [class.is-invalid]="userName.invalid && userName.touched"
              type="text"
              class="form-control mt-5"
              placeholder="الاسم"
            />
            <div *ngIf="userName.errors && userName.invalid && userName.touched">
              <small class="text-danger" *ngIf="userName.errors?.required">
                User name is required
              </small>
              <small class="text-danger" *ngIf="userName.errors.minlength">
                Min length is 5
              </small>
              <small *ngIf="userName.errors?.forbiddenName">
                {{ userName.errors?.forbiddenName.value }} is not allowed
              </small>
            </div>
          </div>
      
          <div class="form-group">
            <!-- <label>First Name</label> -->
            <input
              formControlName="firstName"
              [class.is-invalid]="firstName.invalid && firstName.touched"
              type="text"
              class="form-control mt-4"
              placeholder="الاسم الأول"
            />
            <div *ngIf="firstName.errors && firstName.invalid && firstName.touched">
              <small class="text-danger" *ngIf="firstName.errors?.required">
                first name is required
              </small>
              <small class="text-danger" *ngIf="firstName.errors.minlength">
                Min length is 5
              </small>
            </div>
          </div>
      
          <div class="form-group">
            <!-- <label>Last Name</label> -->
            <input
              formControlName="lastName"
              [class.is-invalid]="lastName.invalid && lastName.touched"
              type="text"
              class="form-control mt-4"
              placeholder="اسم العائلة"
            />
            <div *ngIf="lastName.errors && lastName.invalid && lastName.touched">
              <small class="text-danger" *ngIf="lastName.errors?.required">
                last name is required
              </small>
              <small class="text-danger" *ngIf="lastName.errors.minlength">
                Min length is 5
              </small>
            </div>
          </div>
      
          <div class="form-group">
            <!-- <label>Password</label> -->
            <input
              formControlName="password"
              type="password"
              class="form-control mt-4"
              placeholder="الرقم السري"
            />
            <div *ngIf="password.errors && password.invalid && password.touched">
              <small class="text-danger" *ngIf="password.errors?.required">
                password is required
              </small>
              <small class="text-danger" *ngIf="password.errors.minlength">
                Min length is 8
              </small>
            </div>
          </div>
      
          <div class="form-group">
            <!-- <label>Confirm Passsword</label> -->
            <input
              [class.is-invalid]="registerForm.errors?.misMatch"
              formControlName="confirmPassword"
              type="password"
              class="form-control mt-4"
              placeholder="تأكيد الرقم السري"
            />
            <small *ngIf="registerForm.errors?.misMatch" class="text-danger">
              Passwords does not match
            </small>
          </div>
      
          <div class="form-group">
            <!-- <label>Email</label> -->
            <input
              pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
              type="text"
              [class.is-invalid]="email.invalid && email.touched"
              formControlName="email"
              class="form-control"
              placeholder="البريد الإلكتروني"
            />
            <small
              class="text-danger"
              [class.d-none]="email.valid || email.untouched"
            >
              Email is not valid
            </small>
          </div>
      
          {{ d | date: "short" }}
          <div class="form-group">
            <!-- <label>BirthDate</label> -->
            <input
              #bDate
              type="date"
              formControlName="birthDate"
              placeholder="تاريخ الميلاد"
              class="form-control mt-4"
            />
          </div>
      
          <!--       
              <div class="form-group">
                  <label>Register as :</label>
                  <select  formControlName="roles"  class="form-control">
                      <option value="Teacher">Teacher</option>
                      <option value="Student">Student</option>
                  </select>
              </div> -->
      
          <div class="form-group">
            <!-- <label>Gender :</label> -->
            <select formControlName="gender" class="form-control mt-4">
              <option value="Male" selected>ذكر</option>
              <option value="Female">أنثى</option>
            </select>
          </div>
      
          <!--    <div class="form-group">
                  <label>Country :</label>
                  <select  formControlName="country"  class="form-control">
                      <option value="Egypt">Egypt</option>
                      <option value="Palastine">Palastine</option>
                      <option value="Saudi Arabia">Saudi Arabia</option>
                  </select>
              </div>
              
       -->
      
          <div class="form-group">
            <!-- <label>Country :</label> -->
            <select class="form-control mt-4" formControlName="country">
              <option *ngFor="let c of countries" value="{{ c._id }}">
                {{ c.name }}
              </option>
            </select>
          </div>
      
          <div class="form-group">
            <!-- <label>Phone</label> -->
            <input
              type="tel"
              formControlName="phone"
              class="form-control mt-4"
              placeholder="رقم الهاتف"
            />
            <div *ngIf="phone.errors && phone.invalid && phone.touched">
              <small class="text-danger" *ngIf="phone.errors?.required">
                phone is required
              </small>
              <small
                class="text-danger"
                *ngIf="phone.errors.minlength || phone.errors.maxlength"
              >
                length is 10
              </small>
            </div>
          </div>
      
          <div class="row d-flex justify-content-around">
            <button type="submit" class="btn btn-success mt-4" (click)="submit()">
              تسجيل
            </button>
            <button class="btn btn-warning mt-4" (click)="loadApiData()">
              البيانات الافتراضية
            </button>
          </div>
        </form>
       </div>
      </div>
</div>

<app-footer></app-footer>
